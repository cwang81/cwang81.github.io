<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>LC 254. Factor Combinations - Orchid Pavilion</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Orchid Pavilion"><meta name="msapplication-TileImage" content="/picture/logo/logo_transparent.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Orchid Pavilion"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="https:&amp;#x2F;&amp;#x2F;leetcode.com&amp;#x2F;problems&amp;#x2F;factor-combinations&amp;#x2F; Clarification &amp;amp; AssumptionDescription: Giving a number n, return all possible combinations of its factors  input: int n output: List&amp;lt;List&amp;lt;I"><meta property="og:type" content="blog"><meta property="og:title" content="LC 254. Factor Combinations"><meta property="og:url" content="https://cwang81.github.io/2021/08/10/factor-combinations/"><meta property="og:site_name" content="Orchid Pavilion"><meta property="og:description" content="https:&amp;#x2F;&amp;#x2F;leetcode.com&amp;#x2F;problems&amp;#x2F;factor-combinations&amp;#x2F; Clarification &amp;amp; AssumptionDescription: Giving a number n, return all possible combinations of its factors  input: int n output: List&amp;lt;List&amp;lt;I"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://cwang81.github.io/picture/leetcode/logn_vs_sqrtn.png"><meta property="article:published_time" content="2021-08-11T02:30:54.000Z"><meta property="article:modified_time" content="2021-08-11T04:00:05.287Z"><meta property="article:author" content="Chenghao Wang"><meta property="article:tag" content="dfs"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/picture/leetcode/logn_vs_sqrtn.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://cwang81.github.io/2021/08/10/factor-combinations/"},"headline":"LC 254. Factor Combinations","image":["https://cwang81.github.io/picture/leetcode/logn_vs_sqrtn.png"],"datePublished":"2021-08-11T02:30:54.000Z","dateModified":"2021-08-11T04:00:05.287Z","author":{"@type":"Person","name":"Chenghao Wang"},"publisher":{"@type":"Organization","name":"Orchid Pavilion","logo":{"@type":"ImageObject","url":"https://cwang81.github.io/picture/logo/logo.png"}},"description":"https:&#x2F;&#x2F;leetcode.com&#x2F;problems&#x2F;factor-combinations&#x2F; Clarification &amp; AssumptionDescription: Giving a number n, return all possible combinations of its factors  input: int n output: List&lt;List&lt;I"}</script><link rel="canonical" href="https://cwang81.github.io/2021/08/10/factor-combinations/"><link rel="icon" href="/picture/logo/logo_transparent.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/rainbow.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-E2YWM4R0Z2" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-E2YWM4R0Z2');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/picture/logo/logo.png" alt="Orchid Pavilion" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about/me">About</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-11T02:30:54.000Z" title="8/10/2021, 9:30:54 PM">2021-08-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-11T04:00:05.287Z" title="8/10/2021, 11:00:05 PM">2021-08-10</time></span><span class="level-item"><a class="link-muted" href="/categories/leetcode/">leetcode</a></span><span class="level-item">2 minutes read (About 286 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">LC 254. Factor Combinations</h1><div class="content"><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/factor-combinations/">https://leetcode.com/problems/factor-combinations/</a></p>
<h3 id="Clarification-amp-Assumption"><a href="#Clarification-amp-Assumption" class="headerlink" title="Clarification &amp; Assumption"></a>Clarification &amp; Assumption</h3><pre><code>Description: Giving a number n, return all possible combinations of its factors

input: int n
output: List&lt;List&lt;Integer&gt;&gt;
for all the possible cases:
    e.g. n = 1, return []
         n = 12, return [[2,6], [3,4], [2,2,3]]
</code></pre>
<span id="more"></span>

<h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><pre><code>high level: dfs

there are 2 ways to do dfs for this problem
1. add one factor at each level
                          12
                /      |       |      \
    2         0        2      2x2    2x2x2   
            /  \     /   \     |            
    3      0    3   0     3    3    
        /  \
    4   ...

    we can add one factor at each level
    as only using one factor at each level, duplicate results are avoided

    # of levels: sqrt(n) in maximum
    each level represent: # of factors added at current level
    # of states: n / level

    TC: O(logn^sqrt(n))
    SC: O(logn^sqrt(n))

2. add multiple factors at each level
                          12
                /      |       |      \
               2       3       4       6  
            /  \       |                   
           2    3      4           
    
    we can also vary the factor at each level
    but the deduplicate, we need to keep the next level factors larger than the current one we choose
    e.g. otherwise, such factor combination could happen: 3-&gt;2-&gt;2, which is the same as 2-&gt;2-&gt;3

    # of levels: logn
    each level represent: which factor to be added
    # of states: sqrt(n)

    TC: O(sqrt(n)^logn)
    SC: O(sqrt(n)^logn)

here I chose the 2nd approach, because if n is large, logn &lt; sqrt(n)
here is an image showing the trend:
</code></pre>
<img src="/picture/leetcode/logn_vs_sqrtn.png" class="">

<h3 id="Test-cases"><a href="#Test-cases" class="headerlink" title="Test cases:"></a>Test cases:</h3><pre><code>corner case: &lt;= 1 -&gt; return empty list
general cases: 2, 4, 12, 24, 37, 55, 101, 1000000
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; getFactors(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    dfs(n, <span class="number">2</span>, <span class="keyword">new</span> ArrayList&lt;&gt;(), res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> factor, List&lt;Integer&gt; list, List&lt;List&lt;Integer&gt;&gt; res)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// base case</span></span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = factor; i * i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n % i == <span class="number">0</span>) &#123;</span><br><span class="line">            list.add(i);</span><br><span class="line">            list.add(n / i);</span><br><span class="line">            res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(list));</span><br><span class="line">            list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">            dfs(n / i, i, list, res);</span><br><span class="line">            list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/dfs/">dfs</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/qrcode/alipay/alipay.jpg" alt="Alipay"></span></a><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="PYQNGCGXFBNRA"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/qrcode/wechat/wechat.jpg" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/08/10/design-underground-system/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">LC 1396. Design Underground System</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/08/09/subsets-ii/"><span class="level-item">LC 90. SubSets II</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://cwang81.github.io/2021/08/10/factor-combinations/';
            this.page.identifier = '2021/08/10/factor-combinations/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'orchidpavilion' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/picture/avatar/avatar.jpg" alt="Chenghao Wang"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Chenghao Wang</p><p class="is-size-6 is-block">PhD candidate at UH</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Houston, TX</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">5</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Category</p><a href="/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">5</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://www.linkedin.com/in/cwang27/" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/cwang81"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/cwang27/"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/leetcode/"><span class="level-start"><span class="level-item">leetcode</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/dfs/"><span class="tag">dfs</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hashmap/"><span class="tag">hashmap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ood/"><span class="tag">ood</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pq/"><span class="tag">pq</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/quick-select/"><span class="tag">quick select</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-11T04:16:08.000Z">2021-08-10</time></p><p class="title"><a href="/2021/08/10/design-underground-system/">LC 1396. Design Underground System</a></p><p class="categories"><a href="/categories/leetcode/">leetcode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-11T02:30:54.000Z">2021-08-10</time></p><p class="title"><a href="/2021/08/10/factor-combinations/">LC 254. Factor Combinations</a></p><p class="categories"><a href="/categories/leetcode/">leetcode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-10T03:00:08.000Z">2021-08-09</time></p><p class="title"><a href="/2021/08/09/subsets-ii/">LC 90. SubSets II</a></p><p class="categories"><a href="/categories/leetcode/">leetcode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-08T23:40:08.000Z">2021-08-08</time></p><p class="title"><a href="/2021/08/08/k-smallest-in-unsorted-array/">K Smallest In Unsorted Array</a></p><p class="categories"><a href="/categories/leetcode/">leetcode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-08T17:22:19.619Z">2021-08-08</time></p><p class="title"><a href="/2021/08/08/hello-world/">Hello World</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/picture/logo/logo.png" alt="Orchid Pavilion" height="28"></a><p class="is-size-7"><span>&copy; 2021 Chenghao Wang</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>